import javax.swing.*;import java.io.*;import java.nio.file.*;class l{JFrame f=new JFrame();JPanel p=new JPanel();JTextField g=new JTextField(),h=new JTextField();JLabel m=new JLabel();JTextPane t=new JTextPane();JFileChooser j=new JFileChooser();boolean b;String v="",y="";int c=0,n=0,q=0;public static void main(String[] a){new l();}l(){a w=new a();f.add(new JScrollPane(t),"Center");p.setLayout(new BoxLayout(p,0));g.addActionListener(w);h.addActionListener(w);d(new JLabel("Find:"));d(g);d(new JLabel("Replace:"));d(h);d(m);p.setVisible(b);f.add(p,"North");f.setSize(640,480);p(79);p(83);p(80);p(78);p(70);t.getActionMap().put("",w);f.setVisible(true);}void p(int a){t.getInputMap().put(KeyStroke.getKeyStroke(a,4),"");}void d(java.awt.Component o){p.add(o);}class a extends AbstractAction{public void actionPerformed(java.awt.event.ActionEvent a){y=t.getText();try{String s=a.getActionCommand();Object u=a.getSource();if(s.equals("o")&&j.showOpenDialog(f)==0){File i=j.getSelectedFile();t.setText(y=new String(Files.readAllBytes(i.toPath())));f.setTitle(i.getName());}if(s.equals("s")&&j.showSaveDialog(f)==0){File i=j.getSelectedFile();Files.write(i.toPath(),y.getBytes());f.setTitle(i.getName());}if(s.equals("p"))t.print();if(s.equals("n")&&JOptionPane.showConfirmDialog(f,"Clear?")==0){t.setText("");f.setTitle("");}if(s.equals("f"))p.setVisible(b=!b);if(u.equals(g)){if(s.equals(v)){int z=s.length();while(c+z<=y.length()){if(q!=n&&t.getText(c,z).equals(s)){t.select(c,c+=z);m.setText(++q+"/"+n);return;}c++;}m.setText("Last!");c=q=0;}else m.setText("Got:"+(n=((y+" ").split(v=s).length)-1));}if(u.equals(h)){t.setText(y.replaceAll(g.getText(),s));}}catch(Exception e){}}}}